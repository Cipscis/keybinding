<!DOCTYPE html>
<html>
<head>
	<title>Keybinding documentation</title>
	<meta name="viewport" content="width=device-width, initial-scale=1" />

	<link rel="stylesheet" href="/keybinding/assets/css/main.css" />
	<script type="module" src="/keybinding/assets/js/dist/bundle.js"></script>
</head>
<body>
	<main class="layout">
		<section>
			<div class="content">
				<h1>Keybinding documentation</h1>

				<p>Allows you to bind and unbind events to individual keypresses or sequences of keypresses. Intended for implementing keyboard shortcuts.</p>
			</div>
		</section>

		<section id="bind">
			<div class="content">
				<h2>bind</h2>

				<code>bind(keyString, fn, options)</code>

				<p>Binds a callback to a specified keypress.</p>

				<h3>Arguments</h3>

				<h4>keyString</h4>

				<p>A string of the key or key combination or sequence to bind to. For a list of key values, see <a href="https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key/Key_Values" target="_blank">Key Values</a> on MDN.</p>

				<p>For each key binding, the user's keypresses will be recorded up to the length of the bound sequence. Once the event is fired, the logged keypresses are deleted.</p>

				<p>Keypresses will never be recorded while keyboard focus is in a password input, and by default they will also not be recorded while keyboard focus is in any element that expects keyboard input.</p>

				<p>Some key names also have aliases:</p>

				<dl>
					<div>
						<dt><kbd>Space</kbd></dt>
						<dd><code>'space'</code> <code>'spacebar'</code></dd>
					</div>
					<div>
						<dt><kbd>Up arrow</kbd></dt>
						<dd><code>'up'</code></dd>
					</div>
					<div>
						<dt><kbd>Right arrow</kbd></dt>
						<dd><code>'right'</code></dd>
					</div>
					<div>
						<dt><kbd>Down arrow</kbd></dt>
						<dd><code>'down'</code></dd>
					</div>
					<div>
						<dt><kbd>Left arrow</kbd></dt>
						<dd><code>'left'</code></dd>
					</div>
					<div>
						<dt><kbd>Escape</kbd></dt>
						<dd><code>'esc'</code></dd>
					</div>
				</dl>

				<p>Modifier keys cannot be detected directly, but can be combined with other keys using <code>'+'</code>, e.g. <code>'ctrl+m'</code></p>

				<dl>
					<div>
						<dt><kbd>Alt</kbd></dt>
						<dd><code>'alt'</code></dd>
					</div>
					<div>
						<dt><kbd>Control</kbd> or <kbd>Command</kbd></dt>
						<dd><code>'control'</code> <code>'ctrl'</code> <code>'command'</code> <code>'cmd'</code> <code>'meta'</code></dd>
					</div>
					<div>
						<dt><kbd>Shift</kbd></dt>
						<dd><code>'shift'</code></dd>
					</div>
				</dl>

				<p>Sequences of keys can be bound using keyStrings like <code>'ctrl+k ctrl+b'</code></p>

				<h4>fn</h4>

				<p>The function to bind to the keypress, using a keydown event.</p>

				<h4>options</h4>

				<p>An options object with any of these properties:</p>

				<dl>
					<div>
						<dt>allowInInput <code>boolean</code> <code>false</code></dt>
						<dd>If set to true, the keypresses will be checked while the keyboard focus is in an element that accepts keyboard input, such as a text input or a textarea.</dd>
					</div>
				</dl>
			</div>
		</section>

		<section id="unbind">
			<div class="content">
				<h2>unbind</h2>

				<code>unbind(keyString, fn)</code>

				<p>Unbinds a function from a specified key or set of keys.</p>

				<h3>Arguments</h3>

				<h4>keyString</h4>

				<p>A string of the key or keys the event is bound to.</p>

				<h4>fn</h4>

				<p>The function to unbind to the keypress.</p>
			</div>
		</section>

		<section>
			<div class="content">
				<h2>Examples</h2>

				<p>Try the following keyboard shortcuts/sequences:</p>

				<ul>
					<li><kbd>a</kbd></li>
					<li><kbd>Ctrl</kbd> + <kbd>m</kbd> (will work while focus in input)</li>
					<li>Konami code (<kbd>up</kbd> <kbd>up</kbd> <kbd>down</kbd> <kbd>down</kbd> <kbd>left</kbd> <kbd>right</kbd> <kbd>left</kbd> <kbd>right</kbd> <kbd>b</kbd> <kbd>a</kbd> <kbd>enter</kbd>)</li>
				</ul>

				<p>Keyboard shortcuts won't fire when your focus is in an input, unless it's specified that it should.</p>

				<p><input type="text" /></p>

				<p>Keep in mind that only some browser shortcuts (e.g. <kbd>Ctrl</kbd> + <kbd>s</kbd>) can have their default action prevented with <code>event.preventDefault()</code>. If you ever do this, be sure to test it in multiple browsers.</p>

				<p>
					<button class="js-bind">Bind shortcut to <kbd>k</kbd></button>
					<button class="js-unbind">Unbind shortcut to <kbd>k</kbd></button>
				</p>

				<p>
					<button class="js-unbind-sequence">Unbind Konami code shortcut</button>
				</p>
			</div>

			<div class="panel">
				<p class="js-text-message">&nbsp;</p>
			</div>
		</section>
	</main>
</body>

</html>
